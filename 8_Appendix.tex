\cleardoublepage
\renewcommand{\thesection}{\Alph{section}}%
%\appendix 
%\addcontentsline{toc}{chapter}{Anhang} 

\chapter[Appendix]{Appendix}
\phantomsection

\section{Usage of \texttt{twr}}
\begin{figure}[h!]
    \centering
    \input{snippets/cli.tex}
    \caption{Usage of the Haskell implementation \texttt{twr}}
\end{figure}

\section{Exemplary analysis results utilizing different rules}
\subsection{\REXPR-rule}
\begin{figure}[h!]
    \centering
    \input{snippets/case_plus_case_udf.tex}
    \caption{UDF \texttt{case\_plus\_case}, used to showcase application of the \REXPR-rule.}
    \label{udf:case_plus_case}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/case_plus_case_analysis_results.tex}
    \caption{Analysis output of \autoref{udf:case_plus_case}, for demonstration of the \REXPR-rule (slightly beautified).}
    \label{scenarios:case_plus_case}
\end{figure}
\FloatBarrier

\subsection{\RSELECT-rule}
\begin{figure}[h!]
    \centering
    \input{snippets/fib_cols_udf.tex}
    \caption{UDF \texttt{fib\_cols}, used to showcase application of the \RSELECT-rule.}
    \label{udf:fib_cols}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/fib_cols_analysis_results.tex}
    \caption{Analysis output of \autoref{udf:fib_cols}, for demonstration of the \RSELECT-rule (slightly beautified).}
    \label{scenarios:fib_cols}
\end{figure}
\FloatBarrier

\subsection{\RFROM-rule}
\begin{figure}[h!]
    \centering
    \input{snippets/fib_from_udf.tex}
    \caption{UDF \texttt{fib\_from}, used to showcase application of the \RFROM-rule.}
    \label{udf:fib_from}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/fib_from_analysis_result.tex}
    \caption{Analysis output of \autoref{udf:fib_from}, for demonstration of the \RFROM-rule (slightly beautified).}
    \label{scenarios:fib_from}
\end{figure}

\FloatBarrier
\subsection{\RWHERE-rule}
\begin{figure}[h!]
    \centering
    \input{snippets/sieve_udf.tex}
    \caption{UDF \texttt{sieve} implementing the Sieve of Eratosthenes, used to showcase application of the \RWHERE-rule.}
    \label{udf:sieve}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/sieve_analysis_output.tex}
    \caption{Analysis output of \autoref{udf:sieve}, for demonstration of the \RFROM-rule (slightly beautified).}
    \label{scenarios:sieve}
\end{figure}
\FloatBarrier

\subsection{\RCTE-rule}
\begin{figure}[h!]
    \centering
    \input{snippets/fib_cte_analysis_results.tex}
    \caption{UDF \texttt{case\_plus\_case}, used to showcase application of the \REXPR-rule.}
    \label{udf:fib_cte}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/fib_cte_analysis_results.tex}
    \caption{Analysis output of \autoref{udf:case_plus_case}, for demonstration of the \RCTE- and \RWITH-rule (slightly beautified).}
    \label{scenarios:fib_cte}
\end{figure}
\FloatBarrier

\section{Example translations}

\subsection{\texttt{fib}}
\begin{figure}[h!]
    \centering\footnotesize
    \sqlcode{snippets/fib_callstack.sql}
    \caption{\texttt{callstack}-CTE as standalone query. Note that the UDF argument \texttt{\$1} is replaced with a SQL-variable \texttt{:n}}
    \label{fib:callstack_cte_complete}
\end{figure}

\section{Conditional normalization}
\begin{figure}[h!]
    \centering
\sqlcode{appendix/conditional_normalization.sql}\label{sql:conditionals}
    \caption{SQL-conditionals implemented by \texttt{CASE}-expressions.}
    \label{conditional_normalization}
\end{figure}

\begin{figure}[h!]
    \centering
    \sqlcode{appendix/paramN.sql}
    \caption{UDFs with varying number of arguments used for \autoref{fig:paramN}}
    \label{udfs:paramN}
\end{figure}

\begin{figure}[h!]
    \centering
    \input{snippets/fib_analysis_output.tex}
    \caption{Verbose output when translating the Fibonacci function from file \texttt{q/fib.sql} and persisting to database.}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%
